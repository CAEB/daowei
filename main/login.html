<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/login.css">
    <script type="text/javascript" src="./js/jquery-1.10.1.js"></script>
</head>
<body>
    <div class="wrapper">
        <div class="login">
            <h2></h2>
            <form  method="get">
                <div class="user">
                    <input type="text" id="userName" name="userName" placeholder="请输入呢称或手机号">
                </div>
                <div class="password">
                    <input type="password" id="passWord" name="password" placeholder="请输入密码">
                </div>
                <input id="login" type="button" value="登录">
            </form>
            <div class="bottom">
                <a  class='reset-password' href="./register.html">忘记密码</a>
                <a  class="register" href="./register.html">注册</a>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
    $('#login').on('click',function () {
        let username=$('#userName').val().trim();
        let password=$('#passWord').val().trim();
        let data={username:username,password:password};
        if(username=='' && password==""){
            alert('用户名和密码不能为空');
            return;
        }
        $.ajax({
            url:'http://localhost:5000/login',
            type:'get',
            data:data,
            success:function (msg) {
                console.log(msg);
              if(msg==='0'){
                  alert("用户名或密码错误");
              }else{
                  alert('登录成功');
                  window.location.href='./main.html'
                }
            }
        });
        $('#userName').val('');
        $('#passWord').val('');
    });
</script>
</html>